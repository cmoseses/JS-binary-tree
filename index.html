<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>JS Binary tree</title>

    <script type="text/javascript">
        function Node(value) {
            this.value = value;
            this.left = null;
            this.right = null;
        }

        function Tree() {
            this.root = null;
        }

        Tree.prototype.insert = function (value) {
            if (!this.root) {
                this.root = new Node(value);
                return true;
            }
            let node = new Node(value);
            let current = this.root;
            while (current !== null) {
                if (value < current.value) {
                    if (current.left === null) {
                        current.left = node;
                        break;
                    } else {
                        current = current.left;
                    }
                } else {
                    if (current.right === null) {
                        current.right = node;
                        break;
                    } else {
                        current = current.right;
                    }
                }
            }
            return true;
        };

        Tree.prototype.search = function (value) {
            let current = this.root;
            while (current !== null) {
                console.log(current.value);
                if (value === current.value) {
                    console.log('get!');
                    return true;
                }
                current = value > current.value ? current.right : current.left;
            }
            console.log('cannot find!');
            return false;
        };

        Tree.prototype.preorderTraverse = function (node) {
            if(node){
                console.log(node.value);
                this.preorderTraverse(node.left);
                this.preorderTraverse(node.right);
            }

        };

        // test code
        var t = new Tree();
        t.insert(7);
        t.insert(8);
        t.insert(10);
        t.insert(9);
        t.insert(3);
        t.insert(12);
        t.insert(11);
        t.insert(4);
        t.insert(5);
        t.insert(1);
        t.search(3);
        t.preorderTraverse(t.root);
    </script>

</head>
<body>

</body>
</html>